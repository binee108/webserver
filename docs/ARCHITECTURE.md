# í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ ë¬¸ì„œ

> **ëª©ì **: ì´ ë¬¸ì„œëŠ” íŠ¸ë ˆì´ë”© ìë™í™” ì‹œìŠ¤í…œì˜ ì „ë°˜ì ì¸ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê³ , ìœ ì§€ë³´ìˆ˜ ì‹œ í•„ìš”í•œ ê¸°ëŠ¥ë³„ ìƒì„¸ ë¬¸ì„œë¥¼ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
3. [ë””ë ‰í† ë¦¬ êµ¬ì¡°](#ë””ë ‰í† ë¦¬-êµ¬ì¡°)
4. [í•µì‹¬ ì»´í¬ë„ŒíŠ¸](#í•µì‹¬-ì»´í¬ë„ŒíŠ¸)
5. [ê¸°ëŠ¥ë³„ ìƒì„¸ ë¬¸ì„œ](#ê¸°ëŠ¥ë³„-ìƒì„¸-ë¬¸ì„œ)
6. [ê°œë°œ í™˜ê²½ ì„¤ì •](#ê°œë°œ-í™˜ê²½-ì„¤ì •)
7. [ë°°í¬ í™˜ê²½](#ë°°í¬-í™˜ê²½)

---

## í”„ë¡œì íŠ¸ ê°œìš”

### ì‹œìŠ¤í…œ ì„¤ëª…
íŠ¸ë ˆì´ë”©ë·°(TradingView) ë° ì™¸ë¶€ ì‹œê·¸ë„ ì†ŒìŠ¤ë¡œë¶€í„° ì›¹í›…ì„ ìˆ˜ì‹ í•˜ì—¬ ë‹¤ì¤‘ ê±°ë˜ì†Œ(Binance, Bybit, í•œêµ­íˆ¬ìì¦ê¶Œ ë“±)ì— ìë™ìœ¼ë¡œ ì£¼ë¬¸ì„ ì‹¤í–‰í•˜ëŠ” íŠ¸ë ˆì´ë”© ìë™í™” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥
- âœ… **ì›¹í›… ê¸°ë°˜ ì£¼ë¬¸ ì²˜ë¦¬**: TradingView ì•Œë¦¼ì„ ìˆ˜ì‹ í•˜ì—¬ ì‹¤ì‹œê°„ ì£¼ë¬¸ ì‹¤í–‰
- âœ… **ë‹¤ì¤‘ ê±°ë˜ì†Œ ì§€ì›**: Binance, Bybit, í•œêµ­íˆ¬ìì¦ê¶Œ í†µí•©
- âœ… **ì£¼ë¬¸ í ì‹œìŠ¤í…œ**: ë™ì  ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì£¼ë¬¸ ëŒ€ê¸°ì—´ ê´€ë¦¬
- âœ… **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: SSE(Server-Sent Events)ë¥¼ í†µí•œ ì‹¤ì‹œê°„ ì£¼ë¬¸/í¬ì§€ì…˜ ì—…ë°ì´íŠ¸
- âœ… **ì „ëµ ê´€ë¦¬**: ë‹¤ì¤‘ ì „ëµ ë° ê³„ì¢Œ ì—°ê²° ì§€ì›
- âœ… **ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…**: ì£¼ë¬¸ ì¬ì •ë ¬, ì²´ê²° ëª¨ë‹ˆí„°ë§, ê°€ê²© ìºì‹± ë“±

### ê¸°ìˆ  ìŠ¤íƒ
- **Backend**: Python 3.10, Flask
- **Database**: PostgreSQL 15
- **ORM**: SQLAlchemy, Flask-Migrate
- **Task Scheduler**: APScheduler
- **Web Server**: Nginx (SSL Termination), Gunicorn/Flask Dev Server
- **Container**: Docker, Docker Compose
- **Real-time**: SSE (Server-Sent Events)
- **Exchange Integration**: ccxt, í•œêµ­íˆ¬ìì¦ê¶Œ REST API

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 3-Layer ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸                             â”‚
â”‚  (TradingView, Web Dashboard, Mobile App)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Nginx (SSL Termination)                   â”‚
â”‚                      Port: 443 (HTTPS)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Flask Application                         â”‚
â”‚                      Port: 5001 (HTTP)                       â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              API Routes (Level 3)                      â”‚ â”‚
â”‚  â”‚  - /api/webhook    : ì›¹í›… ìˆ˜ì‹                          â”‚ â”‚
â”‚  â”‚  - /api/dashboard  : ëŒ€ì‹œë³´ë“œ ë°ì´í„°                   â”‚ â”‚
â”‚  â”‚  - /api/strategies : ì „ëµ ê´€ë¦¬                         â”‚ â”‚
â”‚  â”‚  - /api/accounts   : ê³„ì¢Œ ê´€ë¦¬                         â”‚ â”‚
â”‚  â”‚  - /api/positions  : í¬ì§€ì…˜ ì¡°íšŒ                       â”‚ â”‚
â”‚  â”‚  - /sse/*          : ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚               â”‚                                              â”‚
â”‚               â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚          Business Logic Services (Level 2)             â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  Domain Services:                                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ webhook_service    : ì›¹í›… ë°ì´í„° ì •ê·œí™”/ë¼ìš°íŒ…   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ trading_service    : ê±°ë˜ ì‹¤í–‰ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ strategy_service   : ì „ëµ CRUD ë° ê¶Œí•œ ê´€ë¦¬      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ capital_service    : ìë³¸ ê´€ë¦¬ ë° ë°°ë¶„          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ analytics          : ì„±ê³¼ ë¶„ì„ ë° í†µê³„           â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  Trading Module (app/services/trading/):               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ core                : ê±°ë˜ ì‹¤í–‰ ì½”ì–´ ë¡œì§         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ order_manager       : ì£¼ë¬¸ ìƒëª…ì£¼ê¸° ê´€ë¦¬          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ position_manager    : í¬ì§€ì…˜ ë° PnL ê´€ë¦¬         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ quantity_calculator : ìˆ˜ëŸ‰ ê³„ì‚° ë¡œì§             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ order_queue_manager : ì£¼ë¬¸ ëŒ€ê¸°ì—´ ì¬ì •ë ¬         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ record_manager      : ê±°ë˜ ê¸°ë¡ ì €ì¥             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ event_emitter       : SSE ì´ë²¤íŠ¸ ë°œí–‰            â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  Background Jobs (app/services/background/):           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ queue_rebalancer       : ì£¼ë¬¸ í ì¬ì •ë ¬ (1ì´ˆ)    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ order_fill_monitor     : ì²´ê²° ê°ì‹œ (10ì´ˆ)        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ price_cache_updater    : ê°€ê²© ìºì‹œ ê°±ì‹  (1ì´ˆ)    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚               â”‚                                              â”‚
â”‚               â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚       Infrastructure Services (Level 1)                â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ exchange_service : ê±°ë˜ì†Œ í†µí•© ì–´ëŒ‘í„°             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ price_cache      : ì‹¬ë³¼ ê°€ê²© ìºì‹±                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ telegram         : ì•Œë¦¼ ì „ì†¡                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ event_service    : SSE ì´ë²¤íŠ¸ ë°œí–‰               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ security         : ì¸ì¦/ê¶Œí•œ ê²€ì¦                 â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚               â”‚                                              â”‚
â”‚               â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚          SQLAlchemy (ORM) + PostgreSQL                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    External Services                         â”‚
â”‚  - Binance API                                              â”‚
â”‚  - Bybit API                                                â”‚
â”‚  - í•œêµ­íˆ¬ìì¦ê¶Œ API                                          â”‚
â”‚  - Telegram Bot API                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì„œë¹„ìŠ¤ ê³„ì¸µ ì˜ì¡´ì„± ê·œì¹™

1. **Level 1 (Infrastructure)**: ì™¸ë¶€ ì„œë¹„ìŠ¤, ë°ì´í„°ë² ì´ìŠ¤, ìºì‹œ ë“± ê¸°ë°˜ ì¸í”„ë¼
   - ë‹¤ë¥¸ ë ˆë²¨ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
   - ì˜ˆ: `exchange_service`, `price_cache`, `telegram`, `event_service`

2. **Level 2 (Domain)**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë° ë„ë©”ì¸ ì„œë¹„ìŠ¤
   - Level 1ì—ë§Œ ì˜ì¡´ ê°€ëŠ¥
   - ì˜ˆ: `trading_service`, `webhook_service`, `strategy_service`, `analytics`

3. **Level 3 (Application)**: API ì—”ë“œí¬ì¸íŠ¸ ë° ë¼ìš°íŒ…
   - Level 1, Level 2ì— ì˜ì¡´ ê°€ëŠ¥
   - ì˜ˆ: `/api/webhook`, `/api/strategies`, `/sse/*`

**âš ï¸ ì¤‘ìš”**: í•˜ìœ„ ë ˆë²¨ì€ ìƒìœ„ ë ˆë²¨ì— ì˜ì¡´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. (ìˆœí™˜ ì°¸ì¡° ë°©ì§€)

---

## ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
webserver/
â”œâ”€â”€ web_server/                    # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ __init__.py           # Flask ì•± ì´ˆê¸°í™”, APScheduler ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ models.py             # SQLAlchemy ëª¨ë¸ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ constants.py          # ìƒìˆ˜ ì •ì˜ (OrderType, MarketType ë“±)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ routes/               # API ì—”ë“œí¬ì¸íŠ¸ (Level 3)
â”‚   â”‚   â”‚   â”œâ”€â”€ webhook.py        # ì›¹í›… ìˆ˜ì‹  ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ strategies.py     # ì „ëµ ê´€ë¦¬ API
â”‚   â”‚   â”‚   â”œâ”€â”€ accounts.py       # ê³„ì¢Œ ê´€ë¦¬ API
â”‚   â”‚   â”‚   â”œâ”€â”€ positions.py      # í¬ì§€ì…˜ ì¡°íšŒ API
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.py      # ëŒ€ì‹œë³´ë“œ API
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/             # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì„œë¹„ìŠ¤ (Level 2)
â”‚   â”‚   â”‚   â”œâ”€â”€ webhook_service.py        # ì›¹í›… ì²˜ë¦¬ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
â”‚   â”‚   â”‚   â”œâ”€â”€ strategy_service.py       # ì „ëµ CRUD
â”‚   â”‚   â”‚   â”œâ”€â”€ capital_service.py        # ìë³¸ ê´€ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ analytics.py              # ì„±ê³¼ ë¶„ì„
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ trading/                  # Trading ëª¨ë“ˆ (6ê°œ ì „ë¬¸ ëª¨ë“ˆ)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ core.py               # ê±°ë˜ ì‹¤í–‰ ì½”ì–´
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ order_manager.py      # ì£¼ë¬¸ ìƒëª…ì£¼ê¸°
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ position_manager.py   # í¬ì§€ì…˜ ê´€ë¦¬
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ quantity_calculator.py # ìˆ˜ëŸ‰ ê³„ì‚°
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ order_queue_manager.py # ì£¼ë¬¸ í ì¬ì •ë ¬
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ record_manager.py     # ê±°ë˜ ê¸°ë¡
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ event_emitter.py      # ì´ë²¤íŠ¸ ë°œí–‰
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ background/               # ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ queue_rebalancer.py   # ì£¼ë¬¸ ì¬ì •ë ¬ ìŠ¤ì¼€ì¤„ëŸ¬
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ exchanges/                # ê±°ë˜ì†Œ í†µí•© (Level 1)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ binance_websocket.py  # Binance WebSocket
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ bybit_websocket.py    # Bybit WebSocket
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ exchange.py               # ê±°ë˜ì†Œ ì¶”ìƒí™” ë ˆì´ì–´ (Level 1)
â”‚   â”‚   â”‚   â”œâ”€â”€ price_cache.py            # ê°€ê²© ìºì‹± (Level 1)
â”‚   â”‚   â”‚   â”œâ”€â”€ telegram.py               # Telegram ì•Œë¦¼ (Level 1)
â”‚   â”‚   â”‚   â”œâ”€â”€ event_service.py          # SSE ì´ë²¤íŠ¸ (Level 1)
â”‚   â”‚   â”‚   â””â”€â”€ security.py               # ì¸ì¦/ê¶Œí•œ (Level 1)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ exchanges/                    # ê±°ë˜ì†Œ ì–´ëŒ‘í„°
â”‚   â”‚   â”‚   â”œâ”€â”€ crypto/                   # ì•”í˜¸í™”í ê±°ë˜ì†Œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ binance.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ bybit.py
â”‚   â”‚   â”‚   â””â”€â”€ securities/               # ì¦ê¶Œ ê±°ë˜ì†Œ
â”‚   â”‚   â”‚       â””â”€â”€ korea_investment.py   # í•œêµ­íˆ¬ìì¦ê¶Œ
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ utils/                        # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”‚   â””â”€â”€ logging_security.py       # ë³´ì•ˆ ë¡œê¹…
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ security/                     # ë³´ì•ˆ ëª¨ë“ˆ
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ logs/                     # ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
â”‚   â”‚   â””â”€â”€ app.log
â”‚   â”‚
â”‚   â””â”€â”€ requirements.txt          # Python ì˜ì¡´ì„±
â”‚
â”œâ”€â”€ migrations/                   # Flask-Migrate ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â””â”€â”€ versions/
â”‚
â”œâ”€â”€ config/                       # ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ Dockerfile                # Docker ì´ë¯¸ì§€ ë¹Œë“œ
â”‚   â””â”€â”€ nginx-ssl.conf            # Nginx ì„¤ì •
â”‚
â”œâ”€â”€ scripts/                      # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ app.py                    # ë©”ì¸ ì‹¤í–‰ íŒŒì¼
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ docs/                         # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”‚   â”œâ”€â”€ ARCHITECTURE.md           # (ì´ íŒŒì¼) ì•„í‚¤í…ì²˜ ìš”ì•½
â”‚   â”œâ”€â”€ features/                 # ê¸°ëŠ¥ë³„ ìƒì„¸ ë¬¸ì„œ
â”‚   â”‚   â”œâ”€â”€ webhook-order-processing.md      # ì›¹í›… ì£¼ë¬¸ ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ order-queue-system.md            # ì£¼ë¬¸ í ì‹œìŠ¤í…œ
â”‚   â”‚   â”œâ”€â”€ background-scheduler.md          # ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ì¼€ì¤„ëŸ¬
â”‚   â”‚   â””â”€â”€ exchange-integration.md          # ê±°ë˜ì†Œ í†µí•©
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ docker-compose.yml            # Docker Compose ì„¤ì •
â”œâ”€â”€ run.py                        # ë¡œì»¬ ê°œë°œ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ CLAUDE.md                     # í”„ë¡œì íŠ¸ ê°œë°œ ê°€ì´ë“œë¼ì¸
â””â”€â”€ README.md                     # í”„ë¡œì íŠ¸ README
```

---

## í•µì‹¬ ì»´í¬ë„ŒíŠ¸

### 1. ì›¹í›… ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
**ê²½ë¡œ**: `web_server/app/routes/webhook.py` â†’ `web_server/app/services/webhook_service.py`

- **ì—­í• **: TradingView ë“± ì™¸ë¶€ ì‹œê·¸ë„ ìˆ˜ì‹  ë° ê±°ë˜ ì‹¤í–‰ ë¼ìš°íŒ…
- **ì²˜ë¦¬ íë¦„**:
  1. ì›¹í›… ìˆ˜ì‹  ë° ì •ê·œí™”
  2. ì „ëµ ì¡°íšŒ ë° í† í° ê²€ì¦
  3. ì£¼ë¬¸ íƒ€ì…ë³„ íŒŒë¼ë¯¸í„° ê²€ì¦
  4. Trading Serviceë¡œ ê±°ë˜ ìœ„ì„
  5. ê²°ê³¼ ë°˜í™˜ ë° WebhookLog ê¸°ë¡

ğŸ“„ **ìƒì„¸ ë¬¸ì„œ**: [ì›¹í›… ì£¼ë¬¸ ì²˜ë¦¬ ê°€ì´ë“œ](./features/webhook-order-processing.md)

### 2. Trading Service (ê±°ë˜ ì‹¤í–‰)
**ê²½ë¡œ**: `web_server/app/services/trading/`

Trading ServiceëŠ” 6ê°œì˜ ì „ë¬¸ ëª¨ë“ˆë¡œ ë¶„ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

| ëª¨ë“ˆ | íŒŒì¼ | ì—­í•  |
|------|------|------|
| **Core** | `core.py` | ê±°ë˜ ì‹¤í–‰ ì½”ì–´ ë¡œì§, ê³„ì¢Œë³„ ì£¼ë¬¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ |
| **Order Manager** | `order_manager.py` | ì£¼ë¬¸ ìƒëª…ì£¼ê¸° ê´€ë¦¬ (ìƒì„±/ì·¨ì†Œ/ì¡°íšŒ) |
| **Position Manager** | `position_manager.py` | í¬ì§€ì…˜ ê´€ë¦¬, PnL ê³„ì‚° |
| **Quantity Calculator** | `quantity_calculator.py` | ì£¼ë¬¸ ìˆ˜ëŸ‰ ê³„ì‚° (qty_per, í¬ì§€ì…˜ ì²­ì‚° ë“±) |
| **Order Queue Manager** | `order_queue_manager.py` | ì£¼ë¬¸ ëŒ€ê¸°ì—´ ë™ì  ì¬ì •ë ¬ |
| **Record Manager** | `record_manager.py` | ê±°ë˜ ê¸°ë¡ ì €ì¥ (DB íŠ¸ëœì­ì…˜) |
| **Event Emitter** | `event_emitter.py` | SSE ì´ë²¤íŠ¸ ë°œí–‰ (ì‹¤ì‹œê°„ ì•Œë¦¼) |

ğŸ“„ **ìƒì„¸ ë¬¸ì„œ**: [ì›¹í›… ì£¼ë¬¸ ì²˜ë¦¬ ê°€ì´ë“œ](./features/webhook-order-processing.md)

### 3. ì£¼ë¬¸ í ì‹œìŠ¤í…œ
**ê²½ë¡œ**: `web_server/app/services/trading/order_queue_manager.py`

- **ì—­í• **: ê±°ë˜ì†Œ ìµœëŒ€ ì‹¬ë³¼ ìˆ˜ ì œí•œ ëŒ€ì‘ (Binance: 200ê°œ)
- **êµ¬ì¡°**:
  - `OpenOrder`: ê±°ë˜ì†Œì— ì‹¤ì œë¡œ ì „ì†¡ëœ ì£¼ë¬¸ (í™œì„± ìƒíƒœ)
  - `PendingOrder`: ëŒ€ê¸° ì¤‘ì¸ ì£¼ë¬¸ (ê±°ë˜ì†Œ ë¯¸ì „ì†¡)
- **ë™ì  ì¬ì •ë ¬**: ìš°ì„ ìˆœìœ„ ê¸°ë°˜ìœ¼ë¡œ ìƒìœ„ Nê°œë§Œ OpenOrderë¡œ ìœ ì§€
  - ìš°ì„ ìˆœìœ„ = `priority` (ë‚®ì„ìˆ˜ë¡ ë†’ìŒ) â†’ `sort_price` â†’ `created_at` (ì˜¤ë˜ëœ ê²ƒ ìš°ì„ )

ğŸ“„ **ìƒì„¸ ë¬¸ì„œ**: [ì£¼ë¬¸ í ì‹œìŠ¤í…œ ê°€ì´ë“œ](./features/order-queue-system.md)

### 4. ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ì¼€ì¤„ëŸ¬
**ê²½ë¡œ**: `web_server/app/__init__.py` (APScheduler ì„¤ì •)

- **Scheduler ì„¤ì •**:
  - **ë¼ì´ë¸ŒëŸ¬ë¦¬**: APScheduler (BackgroundScheduler)
  - **ì£¼ì˜ì‚¬í•­**: Flask Reloader í™˜ê²½ì—ì„œ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€ (`WERKZEUG_RUN_MAIN` ì²´í¬)

- **ì£¼ìš” ì‘ì—…**:

| ì‘ì—… | ì‹¤í–‰ ì£¼ê¸° | íŒŒì¼ | ì—­í•  |
|------|----------|------|------|
| `rebalance_order_queue` | 1ì´ˆ | `background/queue_rebalancer.py` | ì£¼ë¬¸ í ì¬ì •ë ¬ (ìš°ì„ ìˆœìœ„ ë³€ê²½ ê°ì§€) |
| `monitor_order_fills` | 10ì´ˆ | `order_fill_monitor.py` | ì²´ê²° ê°ì‹œ ë° Position ì—…ë°ì´íŠ¸ |
| `update_price_cache` | 1ì´ˆ | `price_cache.py` | ì‹¬ë³¼ ê°€ê²© ìºì‹œ ê°±ì‹  |

ğŸ“„ **ìƒì„¸ ë¬¸ì„œ**: [ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ì¼€ì¤„ëŸ¬ ê°€ì´ë“œ](./features/background-scheduler.md)

### 5. ê±°ë˜ì†Œ í†µí•© ë ˆì´ì–´
**ê²½ë¡œ**: `web_server/app/exchanges/` + `web_server/app/services/exchange.py`

- **ì§€ì› ê±°ë˜ì†Œ**:
  - **Crypto**: Binance, Bybit (ccxt ê¸°ë°˜)
  - **Securities**: í•œêµ­íˆ¬ìì¦ê¶Œ (REST API)

- **Unified Exchange Interface**:
  ```python
  class UnifiedExchangeInterface:
      def create_order(symbol, side, order_type, quantity, price=None, stop_price=None) -> Order
      def cancel_order(order_id, symbol) -> bool
      def fetch_order(order_id, symbol) -> Order
      def fetch_balance() -> dict
      def fetch_positions(symbol=None) -> list[Position]
  ```

ğŸ“„ **ìƒì„¸ ë¬¸ì„œ**: [ê±°ë˜ì†Œ í†µí•© ê°€ì´ë“œ](./features/exchange-integration.md)

### 6. ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ (SSE)
**ê²½ë¡œ**: `web_server/app/services/event_service.py` + `web_server/app/routes/main.py` (`/sse/*`)

- **ì—­í• **: ì›¹ ëŒ€ì‹œë³´ë“œì— ì‹¤ì‹œê°„ ì£¼ë¬¸/í¬ì§€ì…˜ ì—…ë°ì´íŠ¸ ì „ì†¡
- **ì´ë²¤íŠ¸ íƒ€ì…**:
  - `order_created`: ì£¼ë¬¸ ìƒì„±
  - `order_filled`: ì£¼ë¬¸ ì²´ê²°
  - `order_cancelled`: ì£¼ë¬¸ ì·¨ì†Œ
  - `position_updated`: í¬ì§€ì…˜ ì—…ë°ì´íŠ¸

---

## ê¸°ëŠ¥ë³„ ìƒì„¸ ë¬¸ì„œ

ìœ ì§€ë³´ìˆ˜ ëŒ€ìƒ ê¸°ëŠ¥ì„ ì°¾ì•„ ìƒì„¸ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”:

### í•µì‹¬ ê¸°ëŠ¥
1. **[ì›¹í›… ì£¼ë¬¸ ì²˜ë¦¬](./features/webhook-order-processing.md)**
   - ì›¹í›… ìˆ˜ì‹ ë¶€í„° ì£¼ë¬¸ ì‹¤í–‰ê¹Œì§€ì˜ ì „ì²´ íë¦„
   - ë‹¨ì¼ ì£¼ë¬¸ / ë°°ì¹˜ ì£¼ë¬¸ ì²˜ë¦¬
   - ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹…

2. **[ì£¼ë¬¸ í ì‹œìŠ¤í…œ](./features/order-queue-system.md)**
   - OpenOrder / PendingOrder êµ¬ì¡°
   - ë™ì  ìš°ì„ ìˆœìœ„ ì¬ì •ë ¬ ì•Œê³ ë¦¬ì¦˜
   - ê±°ë˜ì†Œ ì œí•œ ëŒ€ì‘ ì „ëµ

3. **[ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ì¼€ì¤„ëŸ¬](./features/background-scheduler.md)**
   - APScheduler ì„¤ì • ë° ì‘ì—… ë“±ë¡
   - Flask Reloader ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
   - ì£¼ìš” ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ëª©ë¡

4. **[ê±°ë˜ì†Œ í†µí•©](./features/exchange-integration.md)**
   - Unified Exchange Interface ì„¤ê³„
   - Crypto / Securities ì–´ëŒ‘í„° êµ¬í˜„
   - API í˜¸ì¶œ ì—ëŸ¬ ì²˜ë¦¬

### ë°ì´í„°ë² ì´ìŠ¤
5. **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ**
   - ì£¼ìš” í…Œì´ë¸”: `Strategy`, `Account`, `StrategyAccount`, `OpenOrder`, `PendingOrder`, `Trade`, `Position`, `WebhookLog`
   - ê´€ê³„ë„ ë° ì¸ë±ìŠ¤ ì „ëµ
   - ë§ˆì´ê·¸ë ˆì´ì…˜ ê´€ë¦¬ (Flask-Migrate)

### ë³´ì•ˆ ë° ì¸ì¦
6. **ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬**
   - ì›¹í›… í† í° ê²€ì¦
   - ì „ëµ ì†Œìœ ì vs êµ¬ë…ì ê¶Œí•œ
   - API ì—”ë“œí¬ì¸íŠ¸ ë³´ì•ˆ

---

## ê°œë°œ í™˜ê²½ ì„¤ì •

### ë¡œì»¬ ê°œë°œ (ê°œë°œììš©)

1. **Python ê°€ìƒ í™˜ê²½ ìƒì„±**:
   ```bash
   python3 -m venv .venv
   source .venv/bin/activate  # macOS/Linux
   # .venv\Scripts\activate  # Windows
   ```

2. **ì˜ì¡´ì„± ì„¤ì¹˜**:
   ```bash
   cd web_server
   pip install -r requirements.txt
   # ë˜ëŠ” uv ì‚¬ìš© (í”„ë¡œì íŠ¸ í‘œì¤€)
   uv pip install -r requirements.txt
   ```

3. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •** (`.env` íŒŒì¼):
   ```env
   DATABASE_URL=postgresql://trader:password123@localhost:5432/trading_system
   FLASK_ENV=development
   TELEGRAM_BOT_TOKEN=your_token_here
   TELEGRAM_CHAT_ID=your_chat_id_here
   ```

4. **PostgreSQL ì‹¤í–‰** (Docker):
   ```bash
   docker-compose up postgres -d
   ```

5. **ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜**:
   ```bash
   cd web_server
   flask db upgrade
   ```

6. **ê°œë°œ ì„œë²„ ì‹¤í–‰**:
   ```bash
   # ë°©ë²• 1: run.py ìŠ¤í¬ë¦½íŠ¸ (ê¶Œì¥)
   python run.py restart

   # ë°©ë²• 2: Flask CLI
   cd web_server
   python -m flask run --host=0.0.0.0 --port=5001
   ```

### ë””ë²„ê¹… íŒ

- **ë¡œê·¸ í™•ì¸**: `web_server/logs/app.log`
- **ë¡œê·¸ ì •ë¦¬ í›„ ì¬ì‹œì‘** (ì •í™•í•œ ë””ë²„ê¹…ì„ ìœ„í•´):
  ```bash
  rm -rf web_server/logs/*
  python run.py restart
  ```
- **ìŠ¤ì¼€ì¤„ëŸ¬ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€**: ê°œë°œ ì„œë²„ ì‹¤í–‰ ì‹œ `WERKZEUG_RUN_MAIN` í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

### í…ŒìŠ¤íŠ¸

- **ì›¹í›… í…ŒìŠ¤íŠ¸**: `CLAUDE.md` íŒŒì¼ì˜ "ì›¹í›… ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤" ì°¸ì¡°
  - í…ŒìŠ¤íŠ¸ ì „ëµ: `test1`
  - í…ŒìŠ¤íŠ¸ í† í°: `unmCgoDsy1UfUFo9pisGJzstVcIUFU2gb67F87cEYss`

---

## ë°°í¬ í™˜ê²½

### Docker Compose (í”„ë¡œë•ì…˜)

**êµ¬ì„± ìš”ì†Œ**:
- **postgres**: PostgreSQL 15 (ë°ì´í„°ë² ì´ìŠ¤)
- **app**: Flask ì• í”Œë¦¬ì¼€ì´ì…˜ (Python 3.10)
- **nginx**: Nginx (SSL Termination, ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ)

**ì‹¤í–‰**:
```bash
# ì „ì²´ ìŠ¤íƒ ì‹œì‘
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f app

# ì„œë¹„ìŠ¤ ì¬ì‹œì‘
docker-compose restart app
```

**í¬íŠ¸ ë§¤í•‘**:
- `443` (HTTPS) â†’ Nginx â†’ Flask (5001)
- `80` (HTTP) â†’ Nginx (ë¦¬ë‹¤ì´ë ‰íŠ¸)
- `5432` (PostgreSQL)

### í™˜ê²½ ë³€ìˆ˜ (`docker-compose.yml`)

```yaml
environment:
  - DATABASE_URL=postgresql://trader:password123@postgres:5432/trading_system
  - FLASK_ENV=development  # í”„ë¡œë•ì…˜ ì‹œ 'production'ìœ¼ë¡œ ë³€ê²½
  - ENABLE_SSL=false       # Nginxê°€ SSL ì²˜ë¦¬
  - TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN}
  - TELEGRAM_CHAT_ID=${TELEGRAM_CHAT_ID}
```

---

## ìœ ì§€ë³´ìˆ˜ ê°€ì´ë“œë¼ì¸

### ì½”ë“œ ë³€ê²½ ì‹œ ì£¼ì˜ì‚¬í•­

1. **CLAUDE.md ê·œì¹™ ì¤€ìˆ˜**: í”„ë¡œì íŠ¸ ë£¨íŠ¸ì˜ `CLAUDE.md` íŒŒì¼ ì°¸ì¡°
   - ë‹¨ì¼ ì†ŒìŠ¤, ë‹¨ì¼ ê²½ë¡œ ì›ì¹™
   - ìŠ¤íŒŒê²Œí‹° ì½”ë“œ ë°©ì§€
   - ë„¤ì´ë° ê·œì¹™ ì¤€ìˆ˜

2. **ì„œë¹„ìŠ¤ ê³„ì¸µ ì˜ì¡´ì„± ê²€ì¦**:
   ```bash
   python scripts/check_service_dependencies.py
   ```
   - ìœ„ë°˜ ê±´ìˆ˜ê°€ 0ì´ì–´ì•¼ í•¨

3. **í…ŒìŠ¤íŠ¸ ë° ì¬ì‹œì‘**:
   ```bash
   # ë¡œê·¸ ì •ë¦¬
   rm -rf web_server/logs/*

   # ì„œë¹„ìŠ¤ ì¬ì‹œì‘
   python run.py restart

   # 3ì´ˆ ëŒ€ê¸° í›„ í…ŒìŠ¤íŠ¸
   sleep 3
   curl -k -s -X POST https://222.98.151.163/api/webhook -H "Content-Type: application/json" -d '{...}'
   ```

4. **Git ì»¤ë°‹**: ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ìš”ì²­í•  ë•Œë§Œ ìˆ˜í–‰
   - ì»¤ë°‹ ë©”ì‹œì§€ëŠ” **í•œêµ­ì–´**ë¡œ ì‘ì„±
   - Conventional Commits í˜•ì‹ ê¶Œì¥: `feat:`, `fix:`, `chore:` ë“±

---

## ë¬¸ì œ í•´ê²° (Troubleshooting)

### ì£¼ë¬¸ì´ ì‹¤í–‰ë˜ì§€ ì•Šì„ ë•Œ

1. **ì „ëµ ë° ê³„ì¢Œ ìƒíƒœ í™•ì¸**:
   - ì „ëµì´ `is_active=True`ì¸ì§€ í™•ì¸
   - ê³„ì¢Œê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
   - ì „ëµ-ê³„ì¢Œ ë§í¬(`StrategyAccount`)ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸

2. **ë¡œê·¸ ë¶„ì„**:
   ```bash
   tail -f web_server/logs/app.log | grep ERROR
   ```

3. **ì›¹í›… ë¡œê·¸ ì¡°íšŒ** (API):
   ```bash
   curl -k https://222.98.151.163/api/webhooks/logs?limit=10
   ```

### ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ë™ì‘í•˜ì§€ ì•Šì„ ë•Œ

1. **ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘ ë¡œê·¸ í™•ì¸**:
   ```bash
   grep "APScheduler ì‹œì‘ë¨" web_server/logs/app.log
   ```
   - í•œ ë²ˆë§Œ ì¶œë ¥ë˜ì–´ì•¼ í•¨ (ë‘ ë²ˆ ì¶œë ¥ ì‹œ ì¤‘ë³µ ì‹¤í–‰ ë¬¸ì œ)

2. **Flask Reloader í™•ì¸**:
   - ê°œë°œ í™˜ê²½ì—ì„œ `WERKZEUG_RUN_MAIN` í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
   - `app/__init__.py:336` ë¼ì¸ì˜ ì¡°ê±´ ê²€ì¦ ë¡œì§ í™•ì¸

### ê±°ë˜ì†Œ API ì—ëŸ¬

1. **API í‚¤ ìœ íš¨ì„± í™•ì¸**:
   - ê³„ì¢Œ ì„¤ì •ì—ì„œ API Key/Secretì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
   - ê±°ë˜ì†Œ ì›¹ì‚¬ì´íŠ¸ì—ì„œ API ê¶Œí•œ í™•ì¸

2. **ê±°ë˜ì†Œ ì œí•œ í™•ì¸**:
   - IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì„¤ì • (í•„ìš” ì‹œ)
   - Rate Limit ì´ˆê³¼ ì—¬ë¶€ í™•ì¸

---

## ì¶”ê°€ ë¦¬ì†ŒìŠ¤

- **í”„ë¡œì íŠ¸ README**: `README.md`
- **ê°œë°œ ê°€ì´ë“œë¼ì¸**: `CLAUDE.md`
- **API ë¬¸ì„œ**: `docs/` ë””ë ‰í† ë¦¬ ë‚´ ê° ê±°ë˜ì†Œë³„ ë¬¸ì„œ
- **GitHub Issues**: ë²„ê·¸ ë¦¬í¬íŠ¸ ë° ê¸°ëŠ¥ ìš”ì²­

---

*Last Updated: 2025-10-10*
*Version: 1.0.0*
